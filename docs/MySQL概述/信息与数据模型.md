# 信息与数据模型

数据库系统的核心是**数据模型**

## 信息的三种世界

<div style="text-align: center;">     <img alt='202403181844627' src='https://cdn.jsdelivr.net/gh/weno861/image/img/202403181844627.png'> </div>

## 数据模型

### 概念

定义:数据模型(Data Model)是一种模型，它是对现实世界中**数据特征**及**数据之间联系**的抽象，是数据库系统的核心和基础。

### 数据模型的要求

#### 要求

- 能比较真实地模拟现实世界
- 容易理解
- 便于在计算机上实现

一个数据模型很难很好地满足上述三个要求，通常采用**逐步抽象**的方法，在不同的层次采用不同的数据模型, 一般可分为:*概念层*、*物理层*、*逻辑层*

#### 概念层

- 数据抽象级别的**最高层**，其目的是按用户的观点来对现实世界建模。
- 概念层的数据模型称为概念模型
- 概念层**独立于**DBMS，但可以向逻辑模型转换
- 常用的概念模型有**E-R模型**(实体-联系模型)

#### 物理层

- 物理层是数据抽象的**最底层**，用来描述数据物理存储结构和存储方法。
- 这一层的数据抽象称为物理数据模型，它不但由DBMS的设计决定，而且与操作系统、计算机硬件密切相关。
- 物理数据结构一般都向用户屏蔽

#### 逻辑层

- 定义:是数据抽象的中间层，描述数据库数据整体的逻辑结构。
- 逻辑层的数据抽象称为逻辑数据模型，简称**数据模型**
- 常见的数据模型有：层次模型（Hierarchical Model）、网状模型（Network Model）、**关系模型**(Relation Model)和面向对象模型（Object Oriented Model）

### 数据模型的组成

#### 数据结构

定义：描述数据库的**组成对象**，以及对象之间的联系

描述的内容:

- 与数据类型、内容、性质有关的对象
- 与数据之间联系有关的对象

数据结构是对系统静态特性的描述

#### 数据操作

定义：对数据库中各种对象(型)的实例(值)允许执行的操作及有关的操作规则

类型：检索和更新（包括插入、删除、修改）

对操作的定义：这些操作的确切含义、操作符号、操作规则（如优先级）以及实现操作的语言

数据操作是对系统动态特性的描述

#### 完整性约束

完整性约束条件的定义：

- 是一组完整性规则。
- 完整性规则主要描述数据结构中的数据之间的语义联系、数据之间的制约和依存关系，以及数据动态变化规则。
- 数据约束主要用于保证数据的完整性、有效性和相容性。

数据模型对完整性约束条件的定义:

- 数据模型应该反映和规定本数据模型必须遵守的基本的通用的完整性约束条件。
- 提供定义完整性约束条件的机制，以反映具体应用所涉及的数据必须遵守的特定的语义约束条件。

## 概念模型

### 基本概念

#### 实体

客观存在并可相互区别的事物称为实体。可以是具体的人、事、物或抽象的概念。

#### 码

码（Key）：唯一标识实体的属性集称为码。

#### 属性

实体所具有的某一特性称为属性。一个实体可以由若干个属性来刻画。

#### 域

属性的取值范围称为该属性的域。

#### 实体型

用实体名及其属性名集合来抽象和刻画同类实体称为实体型。

#### 实体集

同一类型实体的集合称为实体集。

#### 联系

- 现实世界中事物内部以及事物之间的联系在信息世界中反映为实体内部的联系和实体之间的联系。
- 实体内部的联系通常是指组成实体的各属性之间的联系。
- 实体之间的联系通常是指不同实体集之间的联系。

### E-R模型

组成:

- 实体:客观存在并可相互区别的事物，用矩形框表示
- 联系:一对一、一对多，多对多，用菱形表示
- 属性:用来表示实体的某一特征，用椭圆来表示

<div style="text-align: center;">     <img alt='202403181852626' src='https://cdn.jsdelivr.net/gh/weno861/image/img/202403181852626.png'> </div>

## 逻辑模型

### 层次模型

用树形结构表示各类实体以及实体间的联系，是最早出现的数据模型

<div style="text-align: center;">     <img alt='202403181853554' src='https://cdn.jsdelivr.net/gh/weno861/image/img/202403181853554.png'> </div>

### 网状模型

一个图结构，它是由字段（属性）、记录类型（实体型）和系(set)等对象组成的网状结构的模型。它是一个不加任何条件的有向图

<div style="text-align: center;">     <img alt='202403181853089' src='https://cdn.jsdelivr.net/gh/weno861/image/img/202403181853089.png'> </div>

### 关系模型

用二维表的形式表示各类实体以及实体之间的联系

<div style="text-align: center;">     <img alt='202403181853033' src='https://cdn.jsdelivr.net/gh/weno861/image/img/202403181853033.png'> </div>

### 面向对象模型

### 区别

数据之间联系的表示方式不同，即**数据结构不同**

## 概念模型向逻辑模型的转换

### 1对1联系转换

- 将1:1联系转换为一个独立的关系模式，与该联系相连的各实体的码以及联系本身的属性均转换为关系模式的属性，每个实体的码均是该关系模式的码。
- 实例：它描述的是实体学生和校园卡之间的联系，这里假设:一个学生只能办理一张校园卡，一张校园卡只能属于一个学生，因此，联系的类型是1:1。转换情况为：学生(学号，姓名)，校园卡(卡号，余额)，办卡(学号，卡号，办卡日期)

<div style="text-align: center;">     <img alt='202403181852659' src='https://cdn.jsdelivr.net/gh/weno861/image/img/202403181852659.png' height=500px> </div>

### 1对多联系转换

- 转换为一个独立的关系模式，与该联系相连的各实体的码以及联系本身的属性均转换为关系模式的属性，而关系模式的码为n端实体的码。
- 实例：它描述的是实体学生和班级之间的联系，这里假设：一个学生只能在一个班级学习，一个班级包含多个学生。因此，联系的类型是1:n。转换情况为：实体转换：学生（学号，性别，姓名），班级（班号，班名）；联系组成的转换:组成(学号，班号)

<div style="text-align: center;">     <img alt='202403181853632' src='https://cdn.jsdelivr.net/gh/weno861/image/img/202403181853632.png' height=500px> </div>

### 多对多联系转换

m:n联系不能由一个实体的码唯一标识，必须由所关联实体的码共同标识。需要将联系单独转换为一个独立的关系模式，与该联系相连的各实体的码以及联系本身的属性均转换为关系模式的属性，每个实体的码组成关系模式的码或关系模式的码的一部分

<div style="text-align: center;">     <img alt='202403181853301' src='https://cdn.jsdelivr.net/gh/weno861/image/img/202403181853301.png' height=500px> </div>
